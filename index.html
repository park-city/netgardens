<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<title>Netgardens Online</title>
	<meta name="descripton" content="Showcase your indie website in an interactive landscape. Plant your garden today!" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<link rel="stylesheet" type="text/css" href="style.css" />
	<style>
		body {
			height: 100vh;
			overflow: hidden;
		}
		main {
			text-align: center;
			width: 400px;
		}
		#comingsoon {
			color: #FFFF00;
			font-size: 24pt;
			text-shadow: 3px 3px #3F3F00;
			animation: pop 0.58s infinite;
		}
		@keyframes pop {
			from {
			transform:scale(0.95)
			}
			50% {
			transform:scale(1)
			}
			to {
			transform:scale(0.95)
			}
		}
	</style>
</head>
<body>
	<nav>
		<!--
		<a href="#">Browse</a>
		<a href="#">Help</a>
		<a href="#">Login</a>
		-->
		<a href="https://park-city.club"><img src="static/parkcity.png" alt="Part of the Park City Network" height="18px" /></a>
	</nav>

	<div class="container">
		<div class="collapsable">
			<main>
				<img src="static/logo.svg" style="width: 80%; padding: 1em;" alt="Netgardens Online logo" />
				<p>Showcase your indie website in an interactive landscape. Plant your garden today!</p>
				<!--<button type="button">Log In</button>
				<button type="button">Sign Up</button>-->
				<p id="comingsoon">Coming Eventually!</p>


				<p>Or check out one of our parks:</p>
				<select id="parksel">
					<option value="central-park">Central Park</option>
					<option value="arcade-zone">Arcade Zone</option>
					<option value="cyber-space">Cyber Space</option>
					<option value="museum-mile">Museum Mile</option>
					<option value="echo-metro">Echo Metro</option>
				</select>

				<p><a href="https://modarchive.org/index.php?request=view_player&query=32912" target="_blank">Or jam to some appropriate music</a></p>
			</main>
			<div id="collapsebtn"></div>
		</div>

		<div class="map">
			<canvas id="mapcanvas"></canvas>
			<canvas id="bg0" width="4096" height="2048" style="display: none"></canvas>
		</div>
	</div>
</body>
<!-- javascript stuff -->
<script src="https://d3js.org/d3-dsv.v2.min.js"></script>
<script src="https://d3js.org/d3-fetch.v2.min.js"></script>
<script src="map.js"></script>
<script>
	// list of map tilesets (temporary)
	const TILESETS = {
		'central-park': 'static/tiles/central-park.png',
		'arcade-zone':  'static/tiles/testassets-tri.png',
		'cyber-space':  'static/tiles/testassets-tri.png',
		'museum-mile':  'static/tiles/testassets-tri.png',
		'echo-metro':   'static/tiles/testassets-tri.png'
	}
	const TILEMAPS = {
		'central-park': 'static/maps/testmap1.csv',
		'arcade-zone':  'static/maps/testmap1.csv',
		'cyber-space':  'static/maps/testmap1.csv',
		'museum-mile':  'static/maps/testmap1.csv',
		'echo-metro':   'static/maps/testmap1.csv',
	}
	// collapsable sidebar
	document.getElementById('collapsebtn').addEventListener(
		'pointerup', (event) => {
			event.target.parentElement.classList.toggle("closed");
		}
	);
	// map select
	document.getElementById('parksel').addEventListener(
		'change', (e) => {
			Map_Init(TILESETS[e.target.value], TILEMAPS[e.target.value]);
		}
	)
	// autoscroll
	document.addEventListener("DOMContentLoaded", (event) => {
		Map_Init(TILESETS['central-park'], TILEMAPS['central-park']);
		Map_SetAutoScroll(0.5, 0.5);
	});
</script>
</html>